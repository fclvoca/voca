<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FCL 고교필수단어</title>
    <style>
        :root { --primary: #1a1a5e; --bg: #f4f7f9; }
        body { font-family: sans-serif; background-color: var(--bg); margin: 0; padding: 0; }
        
        /* 헤더 */
        .header { background: var(--primary); color: white; padding: 20px; position: sticky; top: 0; z-index: 10; }
        .title-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .search-bar { width: 100%; padding: 12px; border-radius: 5px; border: none; font-size: 16px; box-sizing: border-box; }
        
        /* 버튼 */
        .btn-toggle { background: #ffa000; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; margin-top: 10px; width: 100%; }

        /* 페이지네이션 */
        .pages { display: flex; gap: 5px; overflow-x: auto; padding: 10px; background: #ddd; }
        .p-btn { min-width: 40px; height: 40px; background: white; border: 1px solid #ccc; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: bold; }
        .p-btn.active { background: var(--primary); color: white; }

        /* 단어 리스트 - 발음기호를 단어 바로 아래 배치 */
        .list { padding: 15px; }
        .item { background: white; margin-bottom: 10px; padding: 15px; border-radius: 8px; display: flex; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .info { flex-grow: 1; display: flex; flex-direction: column; } /* 세로 정렬 */
        .eng { font-size: 20px; font-weight: bold; color: #1a1a5e; }
        .phon { font-size: 14px; color: #666; margin-top: 3px; } /* 단어 바로 밑 */
        .mean { font-size: 18px; color: #333; text-align: right; width: 40%; font-weight: 500; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="header">
    <div class="title-row">
        <div style="font-size: 20px; font-weight: bold;">FCL 단어장</div>
        <div id="bookName" style="font-size: 14px; opacity: 0.8;">단어장</div>
    </div>
    <input type="text" id="searchInput" class="search-bar" placeholder="단어 검색..." oninput="render()">
    <button class="btn-toggle" onclick="toggleMean()">뜻 숨기기 / 보이기</button>
</div>

<div class="pages" id="pageNav"></div>
<div class="list" id="wordList"></div>

<script>
    /* =========================================================
       선생님, 이 아래 [vocaData] 안에만 단어를 넣으시면 끝납니다. 
       PC에서 수정 후 커밋하면 모바일에서도 무조건 이 데이터만 읽습니다.
       =========================================================
    */
    const vocaData = {
        "고교필수단어": [
            {w: "tradition", p: "[trəˈdɪʃən]", m: "전통, 전설"},
            {w: "education", p: "[ˌedʒuˈkeɪʃn]", m: "교육"},
            {w: "example", p: "[ɪɡˈzæmpl]", m: "예시, 본보기"}
        ]
    };

    let currentBook = Object.keys(vocaData)[0];
    let currentPage = 1;
    let showMean = true;
    const size = 50;

    function render() {
        const nav = document.getElementById('pageNav');
        const list = document.getElementById('wordList');
        const search = document.getElementById('searchInput').value.toLowerCase();
        
        const data = vocaData[currentBook];
        const totalPages = Math.ceil(data.length / size) || 1;
        
        // 페이지 버튼 생성
        nav.innerHTML = "";
        for(let i=1; i<=totalPages; i++) {
            nav.innerHTML += `<div class="p-btn ${i===currentPage?'active':''}" onclick="setPage(${i})">${i}</div>`;
        }

        // 단어 목록 생성
        const start = (currentPage - 1) * size;
        const target = data.slice(start, start + size);
        
        list.innerHTML = target.map(item => {
            if(search && !item.w.toLowerCase().includes(search) && !item.m.includes(search)) return '';
            return `
                <div class="item">
                    <div class="info" onclick="speak('${item.w}')">
                        <div class="eng">${item.w}</div>
                        <div class="phon">${item.p}</div>
                    </div>
                    <div class="mean ${showMean?'':'hidden'}" onclick="this.classList.toggle('hidden')">${item.m}</div>
                </div>
            `;
        }).join('');
        
        document.getElementById('bookName').innerText = currentBook;
    }

    function setPage(p) { currentPage = p; render(); }
    function toggleMean() { showMean = !showMean; render(); }
    function speak(t) {
        const s = new SpeechSynthesisUtterance(t);
        s.lang = 'en-US';
        speechSynthesis.speak(s);
    }

    render();
</script>

</body>
</html>
